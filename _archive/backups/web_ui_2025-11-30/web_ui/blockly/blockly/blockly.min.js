/*! @license
 * Blockly v11.0.0
 * https://developers.google.com/blockly/
 *
 * Copyright 2012 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */
(()=>{var t={893:t=>{t.exports=function(t,e,n){n=n||function(t){return String(t)};const o=Object.create(null),r=[];for(const i of t){const t=n(i);t in o||(o[t]=!0,r.push(i))}return r.sort(e),r}}},540:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Align=void 0,n(893);var o;(function(t){t[t.LEFT= -1]="LEFT",t[t.CENTRE=0]="CENTRE",t[t.RIGHT=1]="RIGHT"})(o=e.Align||(e.Align={}))},i.prototype.setNextStatement=!1,i.prototype.setPreviousStatement=!1,i.prototype.setOutput=!1,i.prototype.setOutputShape=function(t){return this.outputShape_=t,this},i.prototype.getOutputShape=function(){return this.outputShape_},i.prototype.appendValueInput=function(t){return this.appendInput_(s.INPUT_VALUE,t)},i.prototype.appendStatementInput=function(t){return this.appendInput_(s.STATEMENT_VALUE,t)},i.prototype.appendDummyInput=function(t){return this.appendInput_(s.DUMMY_INPUT,t)},i.prototype.insertValueInputAt=function(t,e,n,o){return this.insertInputAt(t,e,s.INPUT_VALUE,n,o)},i.prototype.insertStatementInputAt=function(t,e,n,o){return this.insertInputAt(t,e,s.STATEMENT_VALUE,n,o)},i.prototype.insertDummyInputAt=function(t,e,n,o){return this.insertInputAt(t,e,s.DUMMY_INPUT,n,o)},i.prototype.appendInput_=function(t,e){const n=new s.Input(t,e,this);return this.inputList.push(n),n},i.prototype.insertInputAt=function(t,e,n,o,r){const i=new s.Input(n,o,this);return i.setAlign(r),this.inputList.splice(t,0,i),e&&this.moveInputBefore(e,i.name),this},i.prototype.moveInputBefore=function(t,e){if(t===e)return;const n=this.inputList.findIndex((e=>e.name===t));if(-1===n)throw Error("Target input not found: "+t);this.moveNumberedInputBefore(n,e)},i.prototype.moveNumberedInputBefore=function(t,e){const n=this.inputList.findIndex((t=>t.name===e));if(-1===n)throw Error("Named input not found: "+e);this.inputList.splice(n,1),t>n&&t--,this.inputList.splice(t,0,this.getInput(e))},i.prototype.removeInput=function(t,e){const n=this.inputList.findIndex((e=>e.name===t));if(-1===n){if(e)return;throw Error("Input not found: "+t)}this.block.rendered&&this.block.disconnectFieldsfromInput(this.inputList[n]),this.inputList.splice(n,1)},i.prototype.getInput=function(t){for(const e of this.inputList)if(e.name===t)return e;return null},i.prototype.getInputs=function(){return this.inputList},i.prototype.setInputsInline=function(t){return this.inputsInline=t,this},i.prototype.getInputsInline=function(){if(void 0!==this.inputsInline)return this.inputsInline;for(let t=1;t<this.inputList.length;t++)if(this.inputList[t-1].type===s.DUMMY_INPUT&&this.inputList[t].type===s.DUMMY_INPUT)return!1;for(let t=1;t<this.inputList.length;t++)if(this.inputList[t-1].type===s.INPUT_VALUE&&this.inputList[t].type===s.INPUT_VALUE)return!0;return!1},i.prototype.setColour=function(t){this.colour_=t},i.prototype.getColour=function(){return this.colour_},i.prototype.setTooltip=function(t){this.tooltip=t},i.prototype.setHelpUrl=function(t){this.helpUrl=t},i.prototype.mutator=void 0,i.prototype.dispose=function(){for(const t of this.inputList)t.dispose()}}},{271:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.inputTypes=e.Input=void 0;var o=n(540),r=n(422),i=n(235),s=n(699),u=n(880),c=n(415),l=n(631);e.inputTypes={INPUT_VALUE:1,OUTPUT_VALUE:2,NEXT_STATEMENT:3,PREVIOUS_STATEMENT:4,DUMMY_INPUT:5,STATEMENT_VALUE:6};class a{constructor(t,e,n){if(!e)throw Error("Input name may not be empty.");this.type=t,this.name=e,this.sourceBlock=n,this.connection=null,this.fieldRow=[],this.align=o.Align.LEFT,this.visible_=!0,this.renderShadow_=!0,this.type===e.inputTypes.STATEMENT_VALUE&&this.setCheck("Boolean")}appendField(t,e){return this.insertFieldAt(this.fieldRow.length,t,e),this}insertFieldAt(t,e,n){if(0>t||t>this.fieldRow.length)throw Error("index "+t+" out of bounds.");if(!e&&!n)return this;let i;if(l.isString(e)?i=new r.FieldLabel(e):e instanceof u.Field?i=e:(console.warn("Deprecated call to appendField/insertFieldAt with a null parameter."),i=new r.FieldLabel("")),n){const t=i.name;if(this.sourceBlock.getField(n))throw Error('Field already exists with name "'+n+'".');i.name=n;const e=this.sourceBlock.renamedFieldCallbacks;e&&t&&n!==t&&e.forEach((e=>e(t,n)))}return i.setSourceBlock(this.sourceBlock),this.sourceBlock.rendered&&this.sourceBlock.workspace.rendered&&i.init(),this.fieldRow.splice(t,0,i),this.sourceBlock.rendered&&this.sourceBlock.queueRender(),this}removeField(t,e){for(let n=0,o;o=this.fieldRow[n];n++)if(o.name===t)return this.fieldRow.splice(n,1),this.sourceBlock.rendered&&this.sourceBlock.queueRender(),!0;if(e)return!1;throw Error("Field not found: "+t)}setAlign(t){return this.align=t,this.sourceBlock.rendered&&this.sourceBlock.queueRender(),this}getAlign(){return this.align}setCheck(t){return this.connection?this.connection.setCheck(t):this.type===e.inputTypes.INPUT_VALUE||this.type===e.inputTypes.STATEMENT_VALUE?this.connection=new c.Connection(this,i.ConnectionType.INPUT_VALUE,t):this.type===e.inputTypes.NEXT_STATEMENT?this.connection=new c.Connection(this,i.ConnectionType.NEXT_STATEMENT,t):this.type===e.inputTypes.PREVIOUS_STATEMENT?this.connection=new c.Connection(this,i.ConnectionType.PREVIOUS_STATEMENT,t):this.type===e.inputTypes.OUTPUT_VALUE?this.connection=new c.Connection(this,i.ConnectionType.OUTPUT_VALUE,t):console.warn("This input type does not support checks."),this}getCheck(){return this.connection?this.connection.getCheck():null}setVisible(t){let e=t;return this.visible_===e||(this.sourceBlock.rendered&&(e?this.setVisibleInternal(!0):this.setVisibleInternal(!1).then((()=>this.setVisibleInternal(!0))).then((()=>this.setVisibleInternal(!1)))),this.visible_=e,this),this}setVisibleInternal(t){if(this.visible_===t)return Promise.resolve();this.visible_=t;const e=this.sourceBlock;if(!e.rendered)return Promise.resolve();e.queueRender();for(const n of this.fieldRow)n.setVisible(t);return this.connection?s.setVisible(this.connection,t):Promise.resolve()}isVisible(){return this.visible_}setRenderShadow(t){this.renderShadow_=t}shouldRenderShadow(){return this.renderShadow_}getFields(){return this.fieldRow}dispose(){for(const t of this.fieldRow)t.dispose();this.connection&&this.connection.dispose(),this.sourceBlock=null}}e.Input=a}},699:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.setVisible=void 0;var o=n(299);async function r(t,e){if(e){if(t.isSuperior())return t.sourceBlock.queueRender(),void await t.sourceBlock.bumpNeighbours();if(!t.targetConnection)return;const e=t.targetConnection.sourceBlock;e.getOutputShape()&&t.setShadowState({shadow:!0}),e.queueRender()}else{const n=t.targetConnection;if(!n)return;const r=n.sourceBlock;if(!r.isShadow())return void o.Events.fire(new(o.Events.getBlockDrag(void 0))(r,!0,r.getParent()));r.queueRender();const i=r.getParent();if(!i)return void r.dispose(!1);i.queueRender(),await i.bumpNeighbours()}}e.setVisible=async function(t,e){const n=t.targetConnection;return t.sourceBlock.rendered&&e!==t.isConnected()?(await r(t,e),!0):!n||e===t.isConnected()||(e?n.unhideAll():n.hideAll()),!1}},i.module,i.exports)}()})();