<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Blockly Standalone Test</title>
  <script src="/vendor/blockly/blockly.min.js"></script>
  <style>
    html, body {
      height: 100%;
      margin: 0;
      background: #181a1b;
      color: #e0e0e0;
      font-family: 'Segoe UI', 'Consolas', 'monospace', sans-serif;
    }
    #blocklyDiv {
      height: 98vh;
      width: 100vw;
      background: #181a1b;
      border-radius: 8px;
      box-shadow: 0 0 32px #000a;
    }
    /* Hide blockly trashcan, zoom, and scrollbars */
    .blocklyTrash, .blocklyZoom {
      display: none !important;
    }
    .blocklyScrollbarHorizontal, .blocklyScrollbarVertical {
      display: none !important;
    }
    /* VS Code-like blockly workspace tweaks */
    .blocklyMainBackground {
      fill: #23272e !important;
    }
    .blocklyFlyoutBackground {
      fill: #23272e !important;
      stroke: #333 !important;
    }
    .blocklyToolboxDiv {
      background: #23272e !important;
      color: #baff80 !important;
      border-right: 2px solid #181a1b !important;
    }
    .blocklyTreeLabel {
      color: #baff80 !important;
    }
    .blocklySvg {
      background: #181a1b !important;
    }
  </style>
</head>
<body>
  <div id="blocklyDiv"></div>
  <script>
    window.addEventListener('DOMContentLoaded', function() {
      if (typeof Blockly === 'undefined') {
        document.body.innerHTML = '<h2 style="color:red">Blockly failed to load!</h2>';
        return;
      }
      window.workspace = Blockly.inject('blocklyDiv', {
        toolbox: '<xml></xml>',
        theme: Blockly.Themes.Dark,
        trashcan: false,
        zoom: {
          controls: false,
          wheel: true,
          startScale: 1.0,
          maxScale: 2,
          minScale: 0.5,
          scaleSpeed: 1.1
        },
        renderer: 'geras',
        grid: {
          spacing: 20,
          length: 20,
          colour: '#333',
          snap: true
        }
      });
    });
  </script>
</body>
</html>
